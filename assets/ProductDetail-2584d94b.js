import{_,r as h,o as n,c as d,a as e,t as o,f as g,v,b as I,F as f}from"./index-b21c218c.js";const{VITE__URL:l,VITE__PATH:p}={VITE__PATH:"ken100",VITE__URL:"https://vue3-course-api.hexschool.io/v2",BASE_URL:"/hexschool-vue-dashboard",MODE:"production",DEV:!1,PROD:!0},y={data(){return{isLoading:!1,productItem:{},qty:1}},methods:{getProductItem(i){this.$http.get(`${l}/api/${p}/product/${i}`).then(s=>{this.productItem=s.data.product,this.isLoading=!1}).catch(s=>{alert(`${s.response.data.message}`),this.isLoading=!1})},addCart(i,s=1){this.$http.post(`${l}/api/${p}/cart`,{data:{product_id:i.id,qty:s}}).then(r=>{const{message:a,data:{product:t}}=r.data;alert(`${t.title} ${a}`)}).catch(r=>{alert(`${r.response.data.message}`)})}},mounted(){this.isLoading=!0,this.getProductItem(this.$route.params.id)}},L={class:"row"},b={class:"col-sm-6"},V=["src"],x={key:1,class:"img-fluid",src:"https://placehold.co/640x480?text=No+Photo",alt:""},E={class:"col-sm-6"},P={class:"badge bg-primary rounded-pill"},T={class:"h5"},U={class:"h6"},k={class:"h5"},D={class:"input-group"};function B(i,s,r,a,t,u){const m=h("VueLoading");return n(),d(f,null,[e("h1",null,o(t.productItem.title),1),e("div",L,[e("div",b,[t.productItem.imageUrl?(n(),d("img",{key:0,class:"img-fluid",src:t.productItem.imageUrl,alt:""},null,8,V)):(n(),d("img",x))]),e("div",E,[e("span",P,o(t.productItem.category),1),e("p",null,"商品描述："+o(t.productItem.description),1),e("p",null,"商品內容："+o(t.productItem.content),1),e("div",T,o(t.productItem.price)+" 元",1),e("del",U,"原價 "+o(t.productItem.origin_price)+" 元",1),e("div",k,"現在只要 "+o(t.productItem.price)+" 元",1),e("div",null,[e("div",D,[g(e("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":s[0]||(s[0]=c=>t.qty=c)},null,512),[[v,t.qty,void 0,{number:!0}]]),e("button",{type:"button",onClick:s[1]||(s[1]=c=>u.addCart(t.productItem)),class:"btn btn-primary"}," 加入購物車 ")])])])]),I(m,{active:t.isLoading,"onUpdate:active":s[2]||(s[2]=c=>t.isLoading=c)},null,8,["active"])],64)}const R=_(y,[["render",B]]);export{R as default};
