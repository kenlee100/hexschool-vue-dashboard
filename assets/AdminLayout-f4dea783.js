import{j as k,m as g,_ as p,r as l,o,c as s,a as e,b as r,w as _,d as m,F as b,e as y,t as $,i as L,R as T}from"./index-095202d5.js";import"./bootstrap.esm-434bcbc7.js";const x=k("adminNavListMenu",{state:()=>({navList:[{path:"/admin/products",name:"行程管理"},{path:"/admin/article",name:"文章管理"},{path:"/admin/coupon",name:"優惠券管理"},{path:"/admin/orderlist",name:"訂單列表"}]})}),P={computed:{...g(x,["navList"])}},S={class:"sidebar position-fixed start-0 top-0 bottom-0 z-10 d-flex flex-column h-100 overflow-x-hidden overflow-y-auto"},V={class:"brand-section flex-shrink-0 p-4"},B={class:"sidebar-menu list-unstyled mb-0"};function E(t,n,c,u,h,a){const i=l("router-link");return o(),s("nav",S,[e("div",V,[r(i,{class:"flex w-full h-20 justify-content-center align-items-center text-decoration-none text-white",to:"/admin"},{default:_(()=>[m("Admin")]),_:1})]),e("ul",B,[(o(!0),s(b,null,y(t.navList,d=>(o(),s("li",{class:"",key:d.path},[r(i,{class:"d-block py-3 px-4 fs-6 text-decoration-none text-white",to:d.path},{default:_(()=>[m($(d.name),1)]),_:2},1032,["to"])]))),128))])])}const R=p(P,[["render",E]]),A={props:{logout:{type:Function,default(){}}}},N={class:"header-bar sticky-top start-0 top-0 end-0 d-flex align-items-center p-3 bg-white shadow-sm"},D={class:"dropdown ms-auto",ref:"dropdown"},H=e("div",{class:"profile-info dropdown-toggle","data-bs-toggle":"dropdown"},[e("div",{class:"profile-info__img d-flex justify-content-center align-items-center w-3 h-3 rounded-circle bg-light"},[e("i",{class:"bi bi-person-fill"})])],-1),M={class:"dropdown-menu"};function j(t,n,c,u,h,a){return o(),s("header",N,[e("div",D,[H,e("ul",M,[e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:n[0]||(n[0]=L((...i)=>c.logout&&c.logout(...i),["prevent"]))},"登出")])])],512)])}const C=p(A,[["render",j]]),F={props:{pageTitle:{type:String,require:!0}},computed:{...g(x,["navList"]),getPath(){return this.navList.filter(t=>t.path===this.$route.path)}}},I={class:"page-title pt-4"},U={key:0,class:"fs-4 text-secondary"},z={key:1,class:"fs-4 text-secondary"};function O(t,n,c,u,h,a){return o(),s("div",I,[a.getPath.length>0?(o(),s("h2",U,$(a.getPath[0].name),1)):(o(),s("h2",z,"後台管理"))])}const q=p(F,[["render",O]]),{VITE__URL:f}={VITE__PATH:"ken100",VITE__URL:"https://vue3-course-api.hexschool.io/v2",BASE_URL:"/hexschool-vue-dashboard",MODE:"production",DEV:!1,PROD:!0},G={components:{RouterView:T,Sidebar:R,HeaderBar:C,PageTitle:q},methods:{checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)userToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");t?(this.$http.defaults.headers.common.Authorization=t,this.$http.post(`${f}/api/user/check`).then(()=>{}).catch(n=>{this.$router.push("/login"),alert(`${n.response.data.message}`)})):(alert("請先登入"),this.$router.push("/login"))},logout(){this.$http.post(`${f}/logout`).then(t=>{alert(t.data.message),document.cookie="userToken=;expires=;",this.$router.push("/login")}).catch(t=>{alert(`${t.response.data.message}`)})}},created(){this.checkLogin()}},J={class:"layout-content d-flex flex-column h-100"},K={class:"data-section flex-grow-1 pb-3"},Q={class:"container-fluid"};function W(t,n,c,u,h,a){const i=l("Sidebar"),d=l("HeaderBar"),v=l("PageTitle"),w=l("router-view");return o(),s("div",J,[r(i),e("section",K,[r(d,{logout:a.logout},null,8,["logout"]),e("div",Q,[r(v,{"page-title":"test"}),r(w)])])])}const Z=p(G,[["render",W]]);export{Z as default};
